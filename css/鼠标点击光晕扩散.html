<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>鼠标点击光晕扩散</title>
<link href="http://greenzorro.github.io/demo/assets/css/reset.css" rel="stylesheet" type="text/css" />
<link href="http://greenzorro.github.io/colacdn/assets/css/global.css" rel="stylesheet" type="text/css" />
<script src="http://greenzorro.github.io/demo/assets/js/jquery-latest.js"></script>
<style>
#test { width: 300px; height: 300px; margin: 100px auto; position: relative; }
#test img { width: 100%; }
.lightglow svg { display: block; width: 100%; height: 100%; overflow: hidden; position: absolute; left: 0; top: 0; z-index: 1; }
.lightglow svg ellipse { fill: none; stroke: none; opacity: 0.2;
	transition: fill .3s linear, transform .3s ease-in-out, opacity .2s linear .3s;
	-webkit-transition: fill .3s linear, -webkit-transform .3s ease-in-out, opacity .2s linear .3s;
	transform-origin: 50% 50%;
	-webkit-transform-origin: 50% 50%;
}
</style>
<script>
$(function () {
	if ($(".lightglow").length > 0) {
		$(".lightglow").click(function (e) {
			var mouseX = e.pageX, mouseY = e.pageY;
			var wrapper = $(this).find("svg");
			var light = $(this).find("svg ellipse");
			light.attr({"cx":mouseX - wrapper.offset().left,"cy":mouseY - wrapper.offset().top});
			light.css({"fill":"#fff","transform":"scale(50,50)","-webkit-transform":"scale(50,50)","opacity":0});
			var reset = setTimeout(function () {
				light.removeAttr("style");
			},500);
		})
	};
})
</script>
</head>

<body>

<div id="test">
	<a class="lightglow" href="javascript:;">
		<img src="http://greenzorro.github.io/demo/assets/images/mask.png">
		<svg>
			<ellipse cx="50%" cy="50%" rx="25" ry="25"></ellipse>
		</svg>
	</a>
</div>

<div style="display:none;">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28088765-2', 'auto');
  ga('send', 'pageview');

</script>
</div>
</body>
</html>